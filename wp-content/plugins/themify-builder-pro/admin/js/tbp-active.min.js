var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var f=a.length,e=0;e<f;e++){var c=a[e];if(b.call(d,c,e,a))return{i:e,v:c}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,d,f){if(b){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in d||(d[e]={});d=d[e]}a=a[a.length-1];f=d[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6-impl","es3");
jQuery(function(a){var b=tb_app,d=function(f,e){var c=f.getElementsByClassName("tbp_advanchd_archive_wrap")[0],d=-1!==e.get("mod_name").indexOf("product")?"_product":"",k="tbp_edit"+d+"_archive",l="tbp_edit"+d+"_single",g=a("."+k),h=e.get("element_id"),d=e.get("mod_settings").builder_content;c.classList.add("themify_builder_content");c.classList.add("themify_builder_content-"+h);c.classList.add("themify_builder");c.setAttribute("id","themify_builder_content-"+h);c.setAttribute("data-postid",h);b.Forms.LayoutPart.cache[h]=
JSON.parse(d);b.activeModel=b.ActionBar.hoverCid=d=null;document.body.className+=" tbp_app_is_edit";window.top.document.body.className+=" tbp_app_is_edit";g=g.add(a("."+k,window.top.document));for(c=g.length-1;-1<c;--c)g[c].classList.remove(k),g[c].classList.add(l);a(f).one("tb_layout_part_before_init",function(){var f=a(this).find(".tb_toolbar_save"),c=a(this).find(".tb_toolbar_close_btn");f.on("click",function(a){a.preventDefault();a.stopImmediatePropagation();a=e.get("mod_settings");a.builder_content=
JSON.stringify(b.Utils.clear(b.Mixins.Builder.toJSON(b.Instances.Builder[b.builderIndex].el)));e.set(a,{silent:!0});ThemifyBuilderCommon.showLoader("show");setTimeout(function(){ThemifyBuilderCommon.showLoader("hide");b.Forms.LayoutPart.options=null;b.Forms.LayoutPart.isSaved=!0},100)});c.on("click",function(c){c.preventDefault();c.stopImmediatePropagation();var d=!0===b.Forms.LayoutPart.isSaved;b.Forms.LayoutPart.close(c);if(!0===d||0===b.builderIndex){a(this).off("click");f.off("click");delete b.Forms.LayoutPart.cache[h];
b.activeModel=b.ActionBar.hoverCid=null;document.body.classList.remove("tbp_app_is_edit");window.top.document.body.classList.remove("tbp_app_is_edit");for(c=g.length-1;-1<c;--c)g[c].classList.add(k),g[c].classList.remove(l);!0===d&&(ThemifyBuilderCommon.showLoader("show"),e.trigger("custom:preview:refresh",e.get("mod_settings")),setTimeout(function(){b.ActionBar.hoverCid=null;ThemifyBuilderCommon.showLoader("hide")},220))}});a(".tb_overlay").first().one("dblclick",function(a){a.preventDefault();a.stopImmediatePropagation();
b.Forms.LayoutPart.options=null;b.Forms.LayoutPart.isSaved=!0;f.triggerHandler("click");c.triggerHandler("click")})})};b.Constructor.tbp_advanched_layout={render:function(a,e){var c=document.createDocumentFragment();if("visual"===b.mode){var d=document.createElement("a"),f=function(a){a.stopPropagation();a.preventDefault();this.removeEventListener("click",f,{once:!0});var c=b.activeModel.cid;ThemifyConstructor.saveComponent();this.className+=" tb_edit";b.Models.Registry.lookup(c).trigger("edit",a,
this)};d.className="tbp_advanched_archive_edit";d.href="#";d.textContent=tbp_local.edit;d.addEventListener("click",f,{once:!0});c.appendChild(d)}c.appendChild(e.hidden.render(a,e));return c}};b.Constructor.fallback={render:function(a,b){return b.create([{id:"fallback_s",type:"toggle_switch",label:"fall_b",options:{on:{name:"yes",value:"en"},off:{name:"no",value:"dis"}},binding:{checked:{show:["fallback_i"]},not_checked:{hide:["fallback_i"]}}},{id:"fallback_i",type:"image",wrap_class:"pushed","class":"xlarge"}])}};
b.Constructor.tbp_custom_css={render:function(a,b){return b.create([{id:"css",type:"custom_css"},{type:"custom_css_id"}])}};"visual"===b.mode&&(void 0!==tbp_local.id&&a.ajaxPrefilter(function(a,b,c){if("tb_render_element"===b.data.action||"tb_load_module_partial"===b.data.action)a.data+="&pageId="+tbp_local.id+"&type="+tbp_local.type}),Themify.body.on("tb_edit_advanced-posts tb_edit_advanced-products",function(a,e,c,m){if(!b.Forms.LayoutPart.id&&e&&e.target.classList.contains("tb_edit"))return d(c,
m),!0}),Themify.LoadCss(tbp_local.cssUrl,tbp_local.v),window.top.Themify.LoadCss(tbp_local.cssUrl,tbp_local.v),tbp_local.cssUrl=null)});
